
## [原文](https://www.jianshu.com/p/98bfb02059fd)

# Java中的线程池


Java中的线程池是运用场景最多的并发框架，几乎所有需要异步或并发执行任务的程序都可以使用线程池。
在开发过程中，合理使用线程池能够带来3个好处：

- （1）降低资源消耗。通过重复利用已创建的线程降低线程创建和销毁造成的消耗。

- （2）提高响应速度。当任务到达时，任务可以不需要等到线程创建就能立刻执行。

- （3）提高线程的可管理性。线程是稀缺资源，如果无限制的创建，不仅会消耗系统资源，还会降低系统的稳定性，使用线程池可以进行统一分配，调优和监控。

##  线程池的实现原理

当提交一个新任务到线程池时，线程池的处理流程如下：

- （1）线程池判断核心线程池是否已满（线程数量是否小于corePoolSize）。如果核心线程池已满，则创建一个新的线程执行任务；否则进入下个流程。

- （2）线程池判断工作队列（BlockingQueue）是否已满。如果工作队列未满，则将新提交的任务存储在工作队列中。否则进入下个流程。

- （3）线程池判断线程池是否已满（线程数量是否小于maximumPoolSize）。
如果线程池未满，则创建新的线程执行这个任务。如果线程池已满，则交给饱和策略来处理这个任务。

工作线程：线程池创建线程时，会将线程封装成工作线程Worker，worker在执行完任务后，会反复从BlockingQueue中获取任务来执行。

 