

# 引起上下文切换的原因有哪些？

 
对于抢占式操作系统而言， 大体有几种：

1、当前任务的时间片用完之后，系统CPU正常调度下一个任务；

2、当前任务碰到IO阻塞，调度线程将挂起此任务，继续下一个任务；

3、多个任务抢占锁资源，当前任务没有抢到，被调度器挂起，继续下一个任务；

4、用户代码挂起当前任务，让出CPU时间；

5、硬件中断；

监测Linux的应用的时候，当CPU的利用率非常高，但是系统的性能却上不去的时候，不妨监控一下线程/进程的切换，
看看是不是context switching导致的overhead过高。

常用命令： pidstat vmstat

 
 